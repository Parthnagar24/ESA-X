<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ESA -X</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #533483 100%);
      color: #e0e0e0;
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
    }

    /* Animated background particles */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        radial-gradient(2px 2px at 30px 50px, rgba(255, 110, 199, 0.6), transparent),
        radial-gradient(1px 1px at 80px 30px, rgba(0, 255, 255, 0.4), transparent),
        radial-gradient(2px 2px at 150px 70px, rgba(255, 204, 112, 0.5), transparent);
      background-repeat: repeat;
      background-size: 200px 150px;
      animation: float 25s linear infinite;
      pointer-events: none;
      z-index: 0;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px) translateX(0px); }
      25% { transform: translateY(-20px) translateX(10px); }
      50% { transform: translateY(-10px) translateX(-15px); }
      75% { transform: translateY(-25px) translateX(5px); }
    }

    /* Header */
    header {
      position: relative;
      z-index: 2;
      text-align: center;
      padding: 20px 0;
      background: rgba(255, 255, 255, 0.03);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(255, 110, 199, 0.2);
    }

    header h1 {
      font-weight: 700;
      font-size: 2.5rem;
      background: linear-gradient(45deg, #ff6ec7, #00ffff, #ffcc70, #4facfe);
      background-size: 300% 300%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: gradientShift 4s ease infinite;
      text-shadow: 0 0 30px rgba(255, 110, 199, 0.5);
      letter-spacing: 1px;
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Main container */
    .container {
      position: relative;
      z-index: 2;
      display: grid;
      grid-template-columns: 1fr 2fr 1.2fr;
      gap: 20px;
      padding: 20px;
      height: calc(100vh - 90px);
      max-width: 1600px;
      margin: 0 auto;
    }

    /* Panel base styles */
    .panel {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(25px);
      border-radius: 20px;
      padding: 20px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .panel::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transition: left 0.7s ease;
    }

    .panel:hover::before {
      left: 100%;
    }

    .panel:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
    }

    /* Left Panel */
    .left-panel {
      display: flex;
      flex-direction: column;
      gap: 15px;
      border: 1px solid rgba(255, 110, 199, 0.3);
      box-shadow: 0 8px 32px rgba(255, 110, 199, 0.2);
    }

    .left-panel h2 {
      text-align: center;
      color: #ff6ec7;
      font-size: 1.4rem;
      font-weight: 600;
      text-shadow: 0 0 10px rgba(255, 110, 199, 0.7);
      margin-bottom: 10px;
    }

    .chat-box {
      flex: 1;
      background: rgba(18, 18, 34, 0.8);
      border-radius: 15px;
      padding: 15px;
      overflow-y: auto;
      border: 1px solid rgba(255, 110, 199, 0.2);
      font-size: 14px;
      color: #cfcff5;
      position: relative;
      scrollbar-width: thin;
      scrollbar-color: rgba(255, 110, 199, 0.5) transparent;
    }

    .chat-box::-webkit-scrollbar {
      width: 6px;
    }

    .chat-box::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 3px;
    }

    .chat-box::-webkit-scrollbar-thumb {
      background: rgba(255, 110, 199, 0.6);
      border-radius: 3px;
    }

    .chat-message {
      margin: 8px 0;
      padding: 10px 12px;
      border-radius: 10px;
      max-width: 90%;
      word-wrap: break-word;
      animation: messageSlideIn 0.3s ease;
    }

    @keyframes messageSlideIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .user-message {
      background: linear-gradient(135deg, rgba(255, 110, 199, 0.2), rgba(255, 110, 199, 0.1));
      margin-left: auto;
      border: 1px solid rgba(255, 110, 199, 0.3);
    }

    .model-message {
      background: linear-gradient(135deg, rgba(0, 255, 255, 0.2), rgba(0, 255, 255, 0.1));
      margin-right: auto;
      border: 1px solid rgba(0, 255, 255, 0.3);
    }

    .system-message {
      background: linear-gradient(135deg, rgba(255, 204, 112, 0.2), rgba(255, 204, 112, 0.1));
      margin: 0 auto;
      text-align: center;
      border: 1px solid rgba(255, 204, 112, 0.3);
      font-style: italic;
    }

    .chat-input {
      display: flex;
      gap: 10px;
      padding: 5px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      border: 1px solid rgba(255, 110, 199, 0.2);
    }

    .chat-input input {
      flex: 1;
      padding: 12px 15px;
      border-radius: 8px;
      border: none;
      background: rgba(42, 42, 64, 0.8);
      color: #fff;
      font-size: 14px;
      outline: none;
      transition: all 0.3s ease;
    }

    .chat-input input:focus {
      background: rgba(42, 42, 64, 1);
      box-shadow: 0 0 15px rgba(255, 110, 199, 0.3);
    }

    .chat-input button {
      padding: 12px 20px;
      border-radius: 8px;
      border: none;
      background: linear-gradient(135deg, #ff6ec7, #ff4d4d);
      color: #fff;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 14px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .chat-input button:hover {
      transform: scale(1.05);
      box-shadow: 0 5px 15px rgba(255, 110, 199, 0.4);
    }

    .chat-input button:active {
      transform: scale(0.98);
    }

    /* Center Panel */
    .center-panel {
      display: flex;
      flex-direction: column;
      gap: 20px;
      align-items: center;
      border: 1px solid rgba(0, 255, 255, 0.3);
      box-shadow: 0 8px 32px rgba(0, 255, 255, 0.2);
      position: relative;
    }

    /* Model Selection */
    .model-selection {
      display: flex;
      justify-content: center;
      gap: 15px;
      width: 100%;
    }

    .model-box {
      flex: 1;
      max-width: 140px;
      padding: 18px 12px;
      background: linear-gradient(135deg, rgba(41, 41, 63, 0.9), rgba(29, 29, 47, 0.8));
      color: #fff;
      text-align: center;
      border-radius: 15px;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      border: 2px solid transparent;
      font-size: 16px;
      font-weight: 600;
      display: flex;
      flex-direction: column;
      gap: 8px;
      align-items: center;
      position: relative;
      overflow: hidden;
    }

    .model-box::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transform: translateX(-100%);
      transition: transform 0.6s;
    }

    .model-box:hover::before {
      transform: translateX(100%);
    }

    .model-box:hover {
      transform: translateY(-8px) scale(1.05);
      background: linear-gradient(135deg, rgba(58, 58, 85, 0.9), rgba(41, 41, 63, 0.8));
    }

    .model-box.selected {
      border: 2px solid #00ffff;
      box-shadow: 0 0 25px rgba(0, 255, 255, 0.6);
      background: linear-gradient(135deg, rgba(31, 31, 51, 0.95), rgba(21, 21, 35, 0.9));
      transform: translateY(-5px) scale(1.02);
    }

    .model-box .emoji {
      font-size: 2rem;
      filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.5));
    }

    /* Upload Section */
    .upload-section {
      display: flex;
      justify-content: center;
      width: 100%;
    }

    .upload-btn {
      padding: 15px 35px;
      border-radius: 12px;
      border: none;
      background: linear-gradient(135deg, #8a2be2, #4facfe, #00c9ff);
      background-size: 200% 200%;
      color: #fff;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.4s ease;
      box-shadow: 0 8px 25px rgba(138, 43, 226, 0.4);
      display: flex;
      align-items: center;
      gap: 10px;
      text-transform: uppercase;
      letter-spacing: 1px;
      position: relative;
      overflow: hidden;
      animation: gradientMove 3s ease infinite;
    }

    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .upload-btn:hover {
      transform: scale(1.08);
      box-shadow: 0 12px 35px rgba(138, 43, 226, 0.6);
    }

    .upload-btn:active {
      transform: scale(0.95);
    }

    .upload-section input[type="file"] {
      display: none;
    }

    /* Image Display */
    .image-display {
      display: flex;
      justify-content: center;
      gap: 25px;
      width: 100%;
    }

    .image-box {
      text-align: center;
      transition: transform 0.3s ease;
    }

    .image-box:hover {
      transform: scale(1.02);
    }

    .image-box h4 {
      margin-bottom: 10px;
      font-size: 18px;
      font-weight: 600;
      color: #ffcc70;
      text-shadow: 0 0 10px rgba(255, 204, 112, 0.6);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .image-container {
      position: relative;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
      transition: all 0.3s ease;
    }

    .image-container:hover {
      box-shadow: 0 12px 35px rgba(255, 204, 112, 0.3);
      transform: scale(1.05);
    }

    .image-box img {
      width: 240px;  
      height: 180px; 
      object-fit: cover;
      transition: all 0.3s ease;
      border: 2px solid rgba(255, 204, 112, 0.3);
    }

    .image-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(255, 204, 112, 0.1), rgba(0, 255, 255, 0.1));
      opacity: 0;
      transition: opacity 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .image-container:hover .image-overlay {
      opacity: 1;
    }



    .right-panel h3 {
      text-align: center;
      margin-bottom: 10px;
      color: #ffcc70;
      font-size: 1.3rem;
      font-weight: 600;
      text-shadow: 0 0 10px rgba(255, 204, 112, 0.6);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .grid-images {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      flex: 1;
    }

    .grid-item {
      position: relative;
      border-radius: 12px;
      overflow: hidden;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
    }

    .grid-item:hover {
      transform: scale(1.08) rotate(2deg);
      box-shadow: 0 8px 25px rgba(0, 255, 255, 0.4);
      z-index: 10;
    }

    .grid-images img {
      width: 100%;
      height: 120px;
      object-fit: cover;
      transition: all 0.3s ease;
      border: 2px solid rgba(255, 204, 112, 0.2);
    }

    .grid-item .image-overlay {
      background: linear-gradient(135deg, rgba(0, 0, 0, 0.7), rgba(255, 204, 112, 0.3));
      font-size: 12px;
    }

    /* Loading animation */
    .loading {
      position: relative;
    }

    .loading::after {
      content: '';
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      width: 20px;
      height: 20px;
      border: 2px solid rgba(255, 110, 199, 0.3);
      border-top: 2px solid #ff6ec7;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: translateY(-50%) rotate(0deg); }
      100% { transform: translateY(-50%) rotate(360deg); }
    }

    /* Responsive design */
    @media (max-width: 1200px) {
      .container {
        grid-template-columns: 300px 1fr 350px;
      }
    }

    @media (max-width: 1024px) {
      .container {
        grid-template-columns: 1fr;
        grid-template-rows: auto auto auto;
        height: auto;
        min-height: calc(100vh - 90px);
      }
      
      header h1 {
        font-size: 2rem;
      }
      
      .image-display {
        flex-direction: column;
        align-items: center;
      }
    }

    @media (max-width: 768px) {
      .container {
        padding: 15px;
        gap: 15px;
      }
      
      .model-selection {
        flex-direction: column;
        gap: 10px;
      }
      
      .model-box {
        max-width: 100%;
      }
      
      .image-box img {
        width: 200px;
        height: 150px;
      }
      
      .grid-images {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Extratressial Surface Analyser</h1>
  </header>

  <div class="container">
    <!-- Left Panel -->
    <div class="left-panel panel">
      <h2>🤖 VLM Chat</h2>
      <div class="chat-box" id="chatBox">
        <div class="chat-message system-message">
          <p>🌟 Welcome to VLM Analysis Platform! Select a model and start your analysis...</p>
        </div>
      </div>
      <div class="chat-input">
        <input type="text" id="chatMessage" placeholder="Ask about your analysis...">
        <button onclick="sendMessage()">Send</button>
      </div>
    </div>

    <!-- Center Panel -->
    <div class="center-panel panel">
      <div class="model-selection">
        <div class="model-box" id="moon" onclick="selectModel('moon')">
          <span class="emoji">🌙</span>
          <span>Moon</span>
        </div>
        <div class="model-box" id="mars" onclick="selectModel('mars')">
          <span class="emoji">🔴</span>
          <span>Mars</span>
        </div>
        <div class="model-box" id="mercury" onclick="selectModel('mercury')">
          <span class="emoji">⚡</span>
          <span>Mercury</span>
        </div>
      </div>

      <div class="upload-section">
        <input type="file" id="uploadImage" accept="image/*" onchange="uploadImage(event)">
        <button class="upload-btn" onclick="document.getElementById('uploadImage').click()">
          📂 Upload Image
        </button>
      </div>

      <div class="image-display">
        <div class="image-box">
          <h4>🔍 Raw Analysis</h4>
          <div class="image-container">
            <img id="rawImage" src="images/raw.jpg" alt="Raw Image">
            <div class="image-overlay">Click to Analyze</div>
          </div>
        </div>
        <div class="image-box">
          <h4>📊 Bounded Results</h4>
          <div class="image-container">
            <img id="boundedImage" src="images/bounded.jpg" alt="Bounded Image">
            <div class="image-overlay">Processing Results</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Right Panel -->
    <div class="right-panel panel">
      <h3>🔬 Scientific Analysis</h3>
      <div class="grid-images">
        <div class="grid-item">
          <img src="images/images1.jpg" alt="Analysis 1">
          <div class="image-overlay">Dataset 1</div>
        </div>
        <div class="grid-item">
          <img src="images/images2.jpg" alt="Analysis 2">
          <div class="image-overlay">Dataset 2</div>
        </div>
        <div class="grid-item">
          <img src="images/images3.jpg" alt="Analysis 3">
          <div class="image-overlay">Dataset 3</div>
        </div>
        <div class="grid-item">
          <img src="images/images4 (2).jpg" alt="Analysis 4">
          <div class="image-overlay">Dataset 4</div>
        </div>
        <div class="grid-item">
          <img src="images/images4.jpg" alt="Analysis 5">
          <div class="image-overlay">Dataset 5</div>
        </div>
        <div class="grid-item">
          <img src="images/images6.jpg" alt="Analysis 6">
          <div class="image-overlay">Dataset 6</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    let selectedModel = null;
    let analysisResults = {
      moon: {
        raw: 'https://via.placeholder.com/240x180/4a90e2/fff?text=Moon+Surface+Raw',
        bounded: 'https://via.placeholder.com/240x180/5cb3cc/fff?text=Moon+Analysis'
      },
      mars: {
        raw: 'https://via.placeholder.com/240x180/d0021b/fff?text=Mars+Terrain+Raw', 
        bounded: 'https://via.placeholder.com/240x180/f5a623/000?text=Mars+Analysis'
      },
      mercury: {
        raw: 'https://via.placeholder.com/240x180/9013fe/fff?text=Mercury+Data+Raw',
        bounded: 'https://via.placeholder.com/240x180/50e3c2/000?text=Mercury+Analysis'
      }
    };

    // Enhanced model selection with animations
    function selectModel(model) {
      selectedModel = model;

      // Remove previous selections
      document.querySelectorAll('.model-box').forEach(box => {
        box.classList.remove('selected');
      });

      // Add selection to current model
      const selectedBox = document.getElementById(model);
      selectedBox.classList.add('selected');

      // Update images with smooth transition
      updateImages(model);

      // Add enhanced chat message
      addChatMessage(`🚀 Model selected: ${model.charAt(0).toUpperCase() + model.slice(1)} - Initializing analysis protocols...`, 'system');
      
      setTimeout(() => {
        addChatMessage(`✅ ${model.charAt(0).toUpperCase() + model.slice(1)} model ready for analysis. Upload an image or ask questions!`, 'system');
      }, 1500);
    }

    function updateImages(model) {
      const raw = document.getElementById('rawImage');
      const bounded = document.getElementById('boundedImage');
      
      // Add loading state
      raw.style.opacity = '0.5';
      bounded.style.opacity = '0.5';
      
      setTimeout(() => {
        raw.src = analysisResults[model].raw;
        bounded.src = analysisResults[model].bounded;
        
        // Smooth fade-in
        raw.style.opacity = '1';
        bounded.style.opacity = '1';
      }, 300);
    }

    // Enhanced upload with preview
    function uploadImage(event) {
      const file = event.target.files[0];
      if (file) {
        const raw = document.getElementById('rawImage');
        const reader = new FileReader();
        
        reader.onload = function(e) {
          raw.style.opacity = '0.5';
          setTimeout(() => {
            raw.src = e.target.result;
            raw.style.opacity = '1';
          }, 200);
        };
        
        reader.readAsDataURL(file);
        addChatMessage(`📁 New image uploaded: ${file.name} (${(file.size / 1024).toFixed(1)}KB)`, 'system');
        
        if (selectedModel) {
          setTimeout(() => {
            addChatMessage(`🔄 Processing image with ${selectedModel.charAt(0).toUpperCase() + selectedModel.slice(1)} model...`, 'system');
          }, 1000);
          
          setTimeout(() => {
            addChatMessage(`✨ Analysis complete! Check the bounded results panel for processed output.`, 'system');
          }, 3000);
        }
      }
    }

    // Enhanced chat system with message types
    function addChatMessage(message, type = 'user', isResponse = false) {
      const chatBox = document.getElementById('chatBox');
      const messageDiv = document.createElement('div');
      messageDiv.className = `chat-message ${type}-message`;
      
      const p = document.createElement('p');
      p.innerHTML = message;
      messageDiv.appendChild(p);
      
      chatBox.appendChild(messageDiv);
      chatBox.scrollTop = chatBox.scrollHeight;
    }

    // Enhanced send message with AI-like responses
    function sendMessage() {
      const input = document.getElementById('chatMessage');
      const message = input.value.trim();
      
      if (message !== '') {
        // Add user message
        addChatMessage(`💬 ${message}`, 'user');
        
        // Add loading indicator
        const chatBox = document.getElementById('chatBox');
        chatBox.classList.add('loading');
        
        // Simulate AI processing
        setTimeout(() => {
          chatBox.classList.remove('loading');
          
          // Generate contextual responses
          let response = generateResponse(message);
          addChatMessage(`🤖 ${response}`, 'model');
        }, 1500 + Math.random() * 1000);
        
        input.value = '';
      }
    }

    // Generate contextual AI responses
    function generateResponse(message) {
      const responses = {
        analysis: [
          "Based on the current model configuration, I can identify several key features in the uploaded image.",
          "The analysis shows interesting patterns that correlate with our training data.",
          "I've processed the visual data and can provide detailed insights about the detected features."
        ],
        model: [
          `The ${selectedModel || 'selected'} model is optimized for this type of analysis with 95.3% accuracy.`,
          "This model uses advanced computer vision techniques for precise object detection.",
          "Our neural network has been trained on thousands of similar samples."
        ],
        upload: [
          "Please upload an image to begin the analysis process.",
          "I can process various image formats including JPG, PNG, and TIFF files.",
          "Once you upload an image, I'll provide detailed analysis results."
        ],
        default: [
          "That's an interesting question! Let me analyze the current data to provide you with accurate insights.",
          "I can help you with image analysis, model selection, and result interpretation.",
          "Feel free to ask me about any aspect of the visual analysis process."
        ]
      };
      
      const lowerMessage = message.toLowerCase();
      
      if (lowerMessage.includes('analys') || lowerMessage.includes('result')) {
        return responses.analysis[Math.floor(Math.random() * responses.analysis.length)];
      } else if (lowerMessage.includes('model') || lowerMessage.includes('moon') || lowerMessage.includes('mars') || lowerMessage.includes('mercury')) {
        return responses.model[Math.floor(Math.random() * responses.model.length)];
      } else if (lowerMessage.includes('upload') || lowerMessage.includes('image') || lowerMessage.includes('picture')) {
        return responses.upload[Math.floor(Math.random() * responses.upload.length)];
      } else {
        return responses